import{a as L}from"./chunk-J6PJCLBG.js";import{a as A,b as W,c as G,d as E,e as U,f as H,g as Y,h as Z,i as J,j as K,k as Q,l as X,m as ee,n as re,o as te}from"./chunk-SCE4PFPN.js";import{b as V,e as S,l as $}from"./chunk-A5KRNXOI.js";import{$a as C,D as z,Da as p,Ea as I,Ha as T,J as q,Ma as s,N as k,S as D,T as c,V as P,Va as i,Wa as n,Xa as l,fb as g,h as R,ia as y,ib as B,lb as O,nb as _,wa as j}from"./chunk-KGPGTJJF.js";var M=m=>({"form-error":m}),ie=(()=>{let r=class r{constructor(){this.viewPassword=!1,this.formBuilder=c(Q),this.renderer=c(j),this.registerFormSubmitted=new T,this.registerForm=this.createRegisterForm()}ngOnInit(){}createRegisterForm(){return this.formBuilder.group({name:[""],lastName:[""],email:["",[E.pattern(/^\s*(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)\s*$/),E.required]],password:["",[E.required,E.pattern("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,32}$")]],passwordRepeat:["",[E.required,this.passwordMatchValidator.bind(this)]]})}passwordMatchValidator(t){return this.registerForm?.get("password")?.value===t.value?null:{passwordMismatch:!0}}onSubmit(){this.registerForm.valid&&this.registerFormSubmitted.emit({id:crypto.randomUUID(),name:this.registerForm.value.name,lastName:this.registerForm.value.lastName,email:this.registerForm.value.email,password:this.registerForm.value.password,passwordRepeat:this.registerForm.value.passwordRepeat})}toogleViewPassword(t){this.viewPassword=!this.viewPassword;let o=t.currentTarget;this.viewPassword&&this.renderer.addClass(o,"active"),!this.viewPassword&&this.renderer.removeClass(o,"active")}};r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=P({type:r,selectors:[["app-register-form"]],outputs:{registerFormSubmitted:"registerFormSubmitted"},standalone:!0,features:[O],decls:38,vars:23,consts:[[1,"px-8","pt-6","pb-8","mb-4","bg-[#FFFBFE]","rounded",3,"formGroup","submit"],[1,"mb-4","md:flex"],[1,"h-[74px]","mb-4","md:mb-0"],[1,"input-group",3,"ngClass"],["autocomplete","off","required","","type","text","id","firstName","formControlName","name","autocomplete","given-name","name","name","aria-disabled","false","aria-label","Name","tabindex","0","autocapitalize","none","dir","ltr","required","",1,"form-input"],["for","name",1,"form-label","ellipsis","..."],["errorMessage","Write a valid name","errorClass","text-red-500",3,"showError"],[1,"h-[74px]","md:ml-3"],["autocomplete","off","required","","type","text","id","lastName","formControlName","lastName","autocomplete","family-name","name","lastName","aria-disabled","false","aria-label","LastName","tabindex","1","autocapitalize","none","dir","ltr","required","",1,"form-input"],["for","lastName",1,"form-label","ellipsis","..."],["errorMessage","Write a valid last name","errorClass","text-red-500",3,"showError"],[1,"h-[74px]","mb-4","md:mb-2"],["autocomplete","off","required","","type","text","id","email","formControlName","email","autocomplete","email","name","email","aria-disabled","false","aria-label","Email","tabindex","2","autocapitalize","none","dir","ltr","required","",1,"form-input"],["for","email",1,"form-label","ellipsis","..."],["errorMessage","Write a valid email address","errorClass","text-red-500",3,"showError"],["autocomplete","off","required","","type","password","id","password","formControlName","password","autocomplete","password","name","password","aria-disabled","false","aria-label","Password","tabindex","3","autocapitalize","none","dir","ltr","required","",1,"form-input",3,"type"],["src","../../../../assets/icons/show.webp","alt","Show password","loading","lazy",1,"icon",3,"click"],["for","password",1,"form-label","ellipsis","..."],["errorMessage","Write a valid password","errorClass","text-red-500",3,"showError"],["autocomplete","off","required","","type","password","id","passwordRepeat","formControlName","passwordRepeat","autocomplete","password","name","passwordRepeat","aria-disabled","false","aria-label","passwordRepeat","tabindex","4","autocapitalize","none","dir","ltr","required","",1,"form-input"],["errorMessage","Write a valid password, passwords do not match","errorClass","text-red-500",3,"showError"],[1,"mb-6","text-center"],["className","w-full min-w-[100px]  max-w-[300px] min-[905px]:max-w-full",1,"mb-6","w-full","flex","justify-center","items-center",3,"isDisable","click"],[1,"mb-6","border-t"],["textLink","Already have an account ? Login!","path","/login","className","text-center text-[#069150] hover:text-[#15AD67]"]],template:function(o,e){if(o&1&&(i(0,"form",0),C("submit",function(){return e.onSubmit()}),i(1,"div",1)(2,"div",2)(3,"div",3),l(4,"input",4),i(5,"label",5),g(6,"First Name"),n()(),l(7,"error-message",6),n(),i(8,"div",7)(9,"div",3),l(10,"input",8),i(11,"label",9),g(12,"Last Name"),n()(),l(13,"error-message",10),n()(),i(14,"div",11)(15,"div",3),l(16,"input",12),i(17,"label",13),g(18,"Email"),n()(),l(19,"error-message",14),n(),i(20,"div",11)(21,"div",3),l(22,"input",15),i(23,"img",16),C("click",function(d){return e.toogleViewPassword(d)}),n(),i(24,"label",17),g(25,"Password"),n()(),l(26,"error-message",18),n(),i(27,"div",11)(28,"div",3),l(29,"input",19),i(30,"label",17),g(31,"Repeat Password"),n()(),l(32,"error-message",20),n(),i(33,"div",21)(34,"app-button",22),C("click",function(){return e.onSubmit()}),g(35," Register Account "),n()(),l(36,"hr",23)(37,"app-link",24),n()),o&2){let a,d,u,f,h,b,w,x,F,v;s("formGroup",e.registerForm),p(3),s("ngClass",_(13,M,((a=e.registerForm.get("name"))==null?null:a.touched)&&(((a=e.registerForm.get("name"))==null?null:a.hasError("required"))||((a=e.registerForm.get("name"))==null?null:a.hasError("pattern"))))),p(4),s("showError",((d=e.registerForm.get("name"))==null?null:d.touched)&&(((d=e.registerForm.get("name"))==null?null:d.hasError("pattern"))||((d=e.registerForm.get("name"))==null?null:d.hasError("required")))),p(2),s("ngClass",_(15,M,((u=e.registerForm.get("lastName"))==null?null:u.touched)&&(((u=e.registerForm.get("lastName"))==null?null:u.hasError("required"))||((u=e.registerForm.get("lastName"))==null?null:u.hasError("pattern"))))),p(4),s("showError",((f=e.registerForm.get("lastName"))==null?null:f.touched)&&(((f=e.registerForm.get("lastName"))==null?null:f.hasError("pattern"))||((f=e.registerForm.get("lastName"))==null?null:f.hasError("required")))),p(2),s("ngClass",_(17,M,((h=e.registerForm.get("email"))==null?null:h.touched)&&(((h=e.registerForm.get("email"))==null?null:h.hasError("required"))||((h=e.registerForm.get("email"))==null?null:h.hasError("pattern"))))),p(4),s("showError",((b=e.registerForm.get("email"))==null?null:b.touched)&&(((b=e.registerForm.get("email"))==null?null:b.hasError("pattern"))||((b=e.registerForm.get("email"))==null?null:b.hasError("required")))),p(2),s("ngClass",_(19,M,((w=e.registerForm.get("password"))==null?null:w.touched)&&(((w=e.registerForm.get("password"))==null?null:w.hasError("required"))||((w=e.registerForm.get("password"))==null?null:w.hasError("pattern"))))),p(1),s("type",e.viewPassword?"text":"password"),p(4),s("showError",((x=e.registerForm.get("password"))==null?null:x.touched)&&(((x=e.registerForm.get("password"))==null?null:x.hasError("pattern"))||((x=e.registerForm.get("password"))==null?null:x.hasError("required")))),p(2),s("ngClass",_(21,M,((F=e.registerForm.get("passwordRepeat"))==null?null:F.touched)&&(((F=e.registerForm.get("passwordRepeat"))==null?null:F.hasError("required"))||((F=e.registerForm.get("passwordRepeat"))==null?null:F.hasError("passwordMismatch"))))),p(4),s("showError",((v=e.registerForm.get("passwordRepeat"))==null?null:v.touched)&&(((v=e.registerForm.get("passwordRepeat"))==null?null:v.hasError("passwordMismatch"))||((v=e.registerForm.get("passwordRepeat"))==null?null:v.hasError("required")))),p(2),s("isDisable",e.registerForm.invalid)}},dependencies:[S,V,X,Y,G,U,H,K,Z,J,ee,re,L],styles:[".input-group[_ngcontent-%COMP%]{display:-webkit-flex;display:flex;flex-grow:1;flex-shrink:1;min-width:0%;position:relative;aspect-ratio:7/1}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{font-size:100%;padding:.8em;outline:none;border:2px solid rgb(200,200,200);background-color:transparent;border-radius:20px;max-width:100%;min-height:51px}.input-group[_ngcontent-%COMP%]   label.form-label[_ngcontent-%COMP%]{position:absolute;top:1rem;margin-inline-start:10px;padding-inline:3px;pointer-events:none;background:#FFFBFE;color:#49454f;direction:ltr;box-sizing:border-box;width:auto;z-index:1;white-space:no-wrap;transition:transform .15s cubic-bezier(.4,0,.2,1),opacity .15s cubic-bezier(.4,0,.2,1);max-width:calc(100% - 16px);text-overflow:ellipsis;font-size:1rem}.input-group[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]{padding:13px 15px;font-size:1rem;line-height:1.5rem;outline:none;direction:ltr;text-align:left;color:#202124;margin:1px 1px 0;border:2px solid rgb(200,200,200);border-radius:1.25rem;background:#FFFBFE;width:100%;caret-color:#c88d65}.input-group[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:scale(.75) translateY(-39px);margin:0 0 0 1.3em;padding:.4em;background:#FFFBFE;color:#ba703c}.input-group[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]:focus{border:2px #C88D65 solid}.default-button[_ngcontent-%COMP%]{text-overflow:ellipsis;border-radius:6.25rem;padding-inline:.25rem;padding-block:.6rem;font-size:.875rem;font-weight:500;transition:background .19s linear,box-shadow .17s cubic-bezier(.65,.05,.36,1)}.default-button[_ngcontent-%COMP%]:hover{box-shadow:0 1px 3px 1px #00000026,0 1px 2px #0000004d}.form-error[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%], .form-error[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]:focus{border:2px solid #D93025;caret-color:#d93025}.form-error[_ngcontent-%COMP%]   label.form-label[_ngcontent-%COMP%], .form-error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#ca3126}.form-error[_ngcontent-%COMP%]   [formControlName=repeatPassword][_ngcontent-%COMP%]{border:2px solid #D93025;caret-color:#d93025}.form-error[_ngcontent-%COMP%]   [formControlName=repeatPassword][_ngcontent-%COMP%] + label.form-label[_ngcontent-%COMP%]{color:#ca3126}.icon[_ngcontent-%COMP%]{position:absolute;width:25px;top:50%;right:10px;transform:translateY(-45%);opacity:.4;cursor:pointer;aspect-ratio:1/1}.icon[_ngcontent-%COMP%]:hover{opacity:.6}.icon.active[_ngcontent-%COMP%]{opacity:1}@media only screen and (max-width: 705px){form[_ngcontent-%COMP%]{padding-left:.2rem;padding-right:.2rem}}"]});let m=r;return m})();var N=(()=>{let r=class r{constructor(t){this.injector=t,this.api=this.injector.get(W)}register(t){return this.api.httpPost("authenticate/register",t,!1)}setInStorage(t){Object.entries(t).forEach(([o,e])=>{localStorage.setItem(o,e)})}};r.\u0275fac=function(o){return new(o||r)(D(y))},r.\u0275prov=k({token:r,factory:r.\u0275fac,providedIn:"root"});let m=r;return m})();var Oe=(()=>{let r=class r{constructor(t){this.injector=t,this.toast=c(A),this.service=c(N),this.router=c($),this.destroy$=new R}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}registerHandler(t){let o=this.service,e=this.router,a=this.toast;a.info("Sending","Waiting answer.",5);let d={register:t,next(u){this.register=u,o.setInStorage(this.register),a.success("Success","Register in.",5)},error(u){console.log(u),a.error("Error",u.error.message,5)},complete(){this.register.id!==t.id&&localStorage.setItem("id",this.register.id),setTimeout(()=>e.navigate(["/"]),700)}};this.service.register(t).pipe(q(this.destroy$)).pipe(z()).subscribe(d)}};r.\u0275fac=function(o){return new(o||r)(I(y))},r.\u0275cmp=P({type:r,selectors:[["app-register"]],standalone:!0,features:[B([N]),O],decls:7,vars:0,consts:[[1,"place-items-center"],[1,"grid","place-items-center"],["id","register-card",1,"w-10/12","p-12","sm:w-7/12","md:w-[50%]","lg:w-[35%]","2xl:w-3/12","px-6","py-10","sm:px-9","sm:py-6","bg-[#FFFBFE]"],[1,"text-center","font-semibold","text-3xl","lg:text-4xl","text-[#585858]"],[3,"registerFormSubmitted"]],template:function(o,e){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),g(4," Register "),n(),i(5,"app-register-form",4),C("registerFormSubmitted",function(d){return e.registerHandler(d)}),n()()()(),l(6,"app-toast"))},dependencies:[S,ie,te],styles:["#register-card[_ngcontent-%COMP%]{border-radius:1.875rem;-webkit-box-shadow:0px 1px 3px 0px rgba(0,0,0,.3),0px 4px 8px 3px rgba(0,0,0,.15);-moz-box-shadow:0px 1px 3px 0px rgba(0,0,0,.3),0px 4px 8px 3px rgba(0,0,0,.15);box-shadow:0 1px 3px #0000004d,0 4px 8px 3px #00000026;margin-top:5%}@media only screen and (max-width: 705px){#register-card[_ngcontent-%COMP%]{border-radius:0%;-webkit-box-shadow:0px 0px 0px 0px rgba(0,0,0,.3),0px 0px 0px 0px rgba(0,0,0,.15);-moz-box-shadow:0px 0px 0px 0px rgba(0,0,0,.3),0px 0px 0px 0px rgba(0,0,0,.15);box-shadow:0 0 #0000004d,0 0 #00000026;max-height:630px;min-width:90%}.flex[_ngcontent-%COMP%]{background-color:#fffbfe;height:109%}}"],changeDetection:0});let m=r;return m})();export{N as a,Oe as b};
