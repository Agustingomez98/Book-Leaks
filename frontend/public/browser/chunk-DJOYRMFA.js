import{a as L}from"./chunk-J6PJCLBG.js";import{a as D}from"./chunk-HE2QDNLN.js";import{a as k,c as j,d as w,e as N,f as T,g as q,h as B,i as $,j as V,k as A,l as I,m as G,n as Y,o as W}from"./chunk-SCE4PFPN.js";import{b as E,e as x,l as z}from"./chunk-A5KRNXOI.js";import{$a as f,D as F,Da as g,Ea as y,Ha as S,J as M,Ma as p,T as d,V as b,Va as a,Wa as l,Xa as c,fb as h,h as v,ia as P,lb as C,nb as _,wa as O}from"./chunk-KGPGTJJF.js";var H=s=>({"form-error":s}),R=(()=>{let o=class o{constructor(){this.viewPassword=!1,this.formBuilder=d(A),this.renderer=d(O),this.loginFormSubmitted=new S,this.loginForm=this.createLoginForm()}ngOnDestroy(){this.loginForm.reset()}ngOnInit(){}createLoginForm(){return this.formBuilder.group({email:["",[w.pattern(/^\s*(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)\s*$/),w.required]],password:["",[w.required,w.pattern("^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,32}$")]]})}onSubmit(){this.loginForm.valid&&this.loginFormSubmitted.emit({email:this.loginForm.value.email,password:this.loginForm.value.password})}toogleViewPassword(m){this.viewPassword=!this.viewPassword;let t=m.currentTarget;this.viewPassword&&this.renderer.addClass(t,"active"),!this.viewPassword&&this.renderer.removeClass(t,"active")}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=b({type:o,selectors:[["login-form"]],outputs:{loginFormSubmitted:"loginFormSubmitted"},standalone:!0,features:[C],decls:20,vars:11,consts:[[1,"login-form","gap-y-6",3,"formGroup","submit"],[1,"w-full","max-w-[366px]","h-[74px]"],[1,"input-group","w-full",3,"ngClass"],["type","text","id","email-login","formControlName","email","autocomplete","email","name","email-login","aria-disabled","false","aria-label","Email","tabindex","0","autocapitalize","none","dir","ltr","required","",1,"form-input"],["for","email-login",1,"form-label"],["errorMessage","Write a valid email address","errorClass","text-red-500",3,"showError"],[1,"w-full","max-w-[366px]","h-[97px]"],["id","password-login","formControlName","password","autocomplete","off","name","password-login","aria-disabled","false","aria-label","Password","tabindex","1","autocapitalize","none","dir","ltr","required","",1,"form-input",3,"type"],["src","../../../../assets/icons/show.webp","alt","Show password","loading","lazy",1,"icon",3,"click"],["for","password-login",1,"form-label"],["errorMessage","Write a valid password","errorClass","text-red-500",3,"showError"],["path","/forgot-password","textLink","\xBFForgot your password?","className","mt-4 mr-auto justify-start text-left text-[#069150] hover:text-[#15AD67]",1,"w-full","flex","justify-start"],[1,"w-full"],["className","w-full min-w-[100px]  max-w-[300px] min-[905px]:max-w-full",1,"mb-6","w-full","flex","justify-center","items-center",3,"isDisable","click"],[1,"mb-6","border-t"],["path","/register","textLink","You still do not have an account?","className","mt-4 text-center text-[#069150] hover:text-[#15AD67]"]],template:function(t,e){if(t&1&&(a(0,"form",0),f("submit",function(){return e.onSubmit()}),a(1,"div",1)(2,"div",2),c(3,"input",3),a(4,"label",4),h(5,"Email"),l()(),c(6,"error-message",5),l(),a(7,"div",6)(8,"div",2),c(9,"input",7),a(10,"img",8),f("click",function(r){return e.toogleViewPassword(r)}),l(),a(11,"label",9),h(12,"Password"),l()(),c(13,"error-message",10)(14,"app-link",11),l(),a(15,"div",12)(16,"app-button",13),f("click",function(){return e.onSubmit()}),h(17," Log in "),l(),c(18,"hr",14)(19,"app-link",15),l()()),t&2){let n,r,i,u;p("formGroup",e.loginForm),g(2),p("ngClass",_(7,H,((n=e.loginForm.get("email"))==null?null:n.touched)&&(((n=e.loginForm.get("email"))==null?null:n.hasError("required"))||((n=e.loginForm.get("email"))==null?null:n.hasError("pattern"))))),g(4),p("showError",((r=e.loginForm.get("email"))==null?null:r.touched)&&(((r=e.loginForm.get("email"))==null?null:r.hasError("pattern"))||((r=e.loginForm.get("email"))==null?null:r.hasError("required")))),g(2),p("ngClass",_(9,H,((i=e.loginForm.get("password"))==null?null:i.touched)&&(((i=e.loginForm.get("password"))==null?null:i.hasError("required"))||((i=e.loginForm.get("password"))==null?null:i.hasError("pattern"))))),g(1),p("type",e.viewPassword?"text":"password"),g(4),p("showError",((u=e.loginForm.get("password"))==null?null:u.touched)&&(((u=e.loginForm.get("password"))==null?null:u.hasError("pattern"))||((u=e.loginForm.get("password"))==null?null:u.hasError("required")))),g(3),p("isDisable",e.loginForm.invalid)}},dependencies:[x,E,I,q,j,N,T,V,B,$,G,Y,L],styles:[".login-form[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-direction:column;height:auto;padding-block-start:1.5rem}.input-group[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-shrink:1;min-width:0%;position:relative;aspect-ratio:7/1}.input-group[_ngcontent-%COMP%]   label.form-label[_ngcontent-%COMP%]{position:absolute;top:1rem;margin-inline-start:10px;padding-inline:3px;pointer-events:none;background:#FFFBFE;color:#49454f;direction:ltr;box-sizing:border-box;width:auto;z-index:1;white-space:no-wrap;transition:transform .15s cubic-bezier(.4,0,.2,1),opacity .15s cubic-bezier(.4,0,.2,1);max-width:calc(100% - 16px);text-overflow:ellipsis;font-size:1rem}.input-group[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]{padding:13px 15px;font-size:1rem;line-height:1.5rem;outline:none;direction:ltr;text-align:left;color:#202124;margin:1px 1px 0;border:2px solid rgb(200,200,200);border-radius:1.25rem;background:#FFFBFE;flex-grow:1;flex-shrink:1;height:51px;caret-color:#c88d65}.move-label[_ngcontent-%COMP%]{transform:scale(.75) translateY(-39px)}.input-group[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:scale(.75) translateY(-39px);margin:0 0 0 1.3em;padding:.4em;background:#FFFBFE;color:#ba703c}.input-group[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]:focus{border:2px #C88D65 solid}.default-button[_ngcontent-%COMP%]{text-overflow:ellipsis;border-radius:6.25rem;padding-inline:.25rem;padding-block:.6rem;font-size:.875rem;font-weight:500;transition:background .19s linear,box-shadow .17s cubic-bezier(.65,.05,.36,1)}.default-button[_ngcontent-%COMP%]:hover{box-shadow:0 1px 3px 1px #00000026,0 1px 2px #0000004d}.form-error[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%], .form-error[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]:focus{border:2px solid #D93025;caret-color:#d93025}.form-error[_ngcontent-%COMP%]   label.form-label[_ngcontent-%COMP%], .form-error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#ca3126}.icon[_ngcontent-%COMP%]{position:absolute;width:25px;top:50%;right:10px;transform:translateY(-45%);opacity:.4;cursor:pointer;aspect-ratio:1/1}.icon[_ngcontent-%COMP%]:hover{opacity:.6}.icon.active[_ngcontent-%COMP%]{opacity:1}@media only screen and (min-width: 905px){.login-form[_ngcontent-%COMP%]{margin-inline:1.5rem;padding-block-start:1.5rem}.input-group[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]{height:auto}}@media only screen and (min-width: 1440px){.form-label[_ngcontent-%COMP%]{font-size:.75rem}}"],changeDetection:0});let s=o;return s})();var we=(()=>{let o=class o{constructor(m){this.injector=m,this.toast=d(k),this.service=d(D),this.router=d(z),this.destroy$=new v}ngOnInit(){}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loginHandler(m){let t=this.service,e=this.router,n=this.toast;n.info("Sending","Waiting answer.",5);let r={login:{},next(i){this.login.id=i.id,this.login.name=i.name,this.login.lastName=i.lastName,this.login.email=i.email,this.login.jwt=i.jwt,t.setInStorage(this.login),n.success("Success","Logging in.",5)},error(i){n.error("Error","An unexpected error has occurred with the server",5)},complete(){setTimeout(()=>e.navigate(["/"]),700)}};t.login(m).pipe(F()).pipe(M(this.destroy$)).subscribe(r)}};o.\u0275fac=function(t){return new(t||o)(y(P))},o.\u0275cmp=b({type:o,selectors:[["app-login"]],standalone:!0,features:[C],decls:6,vars:0,consts:[[1,"flex","justify-center","items-center","w-full","h-full","relative"],[1,"login-container"],[1,"title","text-center"],[3,"loginFormSubmitted"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"section",1)(2,"h2",2),h(3,"Login"),l(),a(4,"login-form",3),f("loginFormSubmitted",function(r){return e.loginHandler(r)}),l()(),c(5,"app-toast"),l())},dependencies:[x,R,W],styles:[".login-container[_ngcontent-%COMP%]{font-family:Roboto,arial,sans-serif;flex-shrink:0;background-color:#fffbfe;width:100%;height:100%;margin-block:auto;padding-block-start:2.5rem;padding-inline:1rem}@media only screen and (min-width: 705px){.login-container[_ngcontent-%COMP%]{padding:2.5rem}.login-section[_ngcontent-%COMP%]{font-size:.75rem;line-height:1rem}.login-container[_ngcontent-%COMP%]{width:480px;height:500px;border-radius:1.875rem;box-shadow:0 1px 3px #0000004d,0 4px 8px 3px #00000026}}@media only screen and (min-width: 1240px){.login-section[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.25rem;letter-spacing:.25px}.login-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{font-size:2.8125rem;line-height:3.25rem}}@media only screen and (min-width: 1440px){.login-section[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;letter-spacing:.5px}.login-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{font-size:3.5625rem;line-height:4rem;letter-spacing:-.01563rem}.form-label[_ngcontent-%COMP%]{font-size:.75rem}}"],changeDetection:0});let s=o;return s})();export{we as a};
