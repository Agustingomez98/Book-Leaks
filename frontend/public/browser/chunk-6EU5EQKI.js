import{a as P}from"./chunk-NX7BDPPD.js";import{a as O,c as w,d as u,e as v,f as E,g as k,h as S,i as z,j as D,k as N,l as $,m as j,n as B,o as q}from"./chunk-FTYRWEE5.js";import{b as F,d as y}from"./chunk-N5EFKZLK.js";import{Ca as m,D as x,J as h,La as c,T as d,Ua as o,V as b,Va as n,Wa as p,_a as C,cb as g,h as f,ib as _,kb as M}from"./chunk-KRCTIDCF.js";var A=l=>({"form-error":l}),Z=(()=>{let r=class r{constructor(){this.formBuilder=d(N),this.toast=d(O),this.service=d(P),this.forgotForm=this.createLoginForm(),this.destroy$=new f}ngOnDestroy(){this.forgotForm.reset(),this.destroy$.next(),this.destroy$.complete()}createLoginForm(){return this.formBuilder.group({email:["",[u.pattern(/^\s*(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)\s*$/),u.required]]})}ngOnInit(){}onSubmit(){let s=this.toast,i=this.service;s.info("Sending","Waiting answer.",5);let e={next(t){s.success("Success","A verification message has been sent to your email.",5)},error(t){s.error("Error","An unexpected error has occurred with the server",5)},complete(){}};i.forgotPassword(this.forgotForm.controls.email.value).pipe(x()).pipe(h(this.destroy$)).subscribe(e),this.forgotForm.reset()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=b({type:r,selectors:[["app-forgot-password"]],standalone:!0,features:[_],decls:17,vars:6,consts:[[1,"flex","justify-center","items-center","w-full","h-full"],[1,"forgot-container"],[1,"title","text-center","border-b","border-gray-200","py-4","mx-12"],[1,"form",3,"formGroup","submit"],[1,"text-center","font-medium","text-sm","my-4"],[1,"input-group","w-full","min-h-[82px]","max-h-[82px]",3,"ngClass"],["type","text","id","email-login","formControlName","email","autocomplete","email","name","email-login","aria-disabled","false","aria-label","Email","tabindex","0","autocapitalize","none","dir","ltr","required","",1,"form-input"],["for","email-login",1,"form-label"],["errorMessage","Write a valid email address","errorClass","text-red-500",3,"showError"],["tabindex","3","role","button",1,"default-button","w-full","min-w-[100px]","max-w-[300px]","text-[#FFFFFC]","bg-[#069150]","hover:bg-[#15AD67]",3,"disabled"],[1,"mx-32","min-[705px]:mx-12","my-4","border-gray-200"],["path","/register","textLink","You do not have an account yet? Register!","className","py-3 text-center text-[#069150] hover:text-[#15AD67]",1,"link"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"section",1)(2,"h2",2),g(3,"Forgot Password"),n(),o(4,"form",3),C("submit",function(){return e.onSubmit()}),o(5,"p",4),g(6,"Enter your email address and we will send you a link to reset your password"),n(),o(7,"div",5),p(8,"input",6),o(9,"label",7),g(10,"Email"),n(),p(11,"error-message",8),n(),o(12,"button",9),g(13,"Send"),n()(),p(14,"hr",10)(15,"app-link",11),n()(),p(16,"app-toast")),i&2){let t,a;m(4),c("formGroup",e.forgotForm),m(3),c("ngClass",M(4,A,((t=e.forgotForm.get("email"))==null?null:t.touched)&&(((t=e.forgotForm.get("email"))==null?null:t.hasError("required"))||((t=e.forgotForm.get("email"))==null?null:t.hasError("pattern"))))),m(4),c("showError",((a=e.forgotForm.get("email"))==null?null:a.touched)&&(((a=e.forgotForm.get("email"))==null?null:a.hasError("pattern"))||((a=e.forgotForm.get("email"))==null?null:a.hasError("required")))),m(1),c("disabled",e.forgotForm.invalid)}},dependencies:[y,F,$,k,w,v,E,D,S,z,q,j,B],styles:[".forgot-container[_ngcontent-%COMP%]{font-family:Roboto,arial,sans-serif;color:#585858;width:100%;height:100%;background-color:#fffbfe;display:flex;flex-direction:column}.forgot-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-end;align-content:flex-end;flex-grow:1;flex-shrink:1}.forgot-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding-inline:3em;display:flex;flex-direction:column;flex-shrink:1;flex-grow:.2;justify-content:center;align-items:center}.forgot-container[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:flex-start;flex-grow:1;flex-shrink:1}.input-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;flex-shrink:1;min-width:0%;position:relative;aspect-ratio:7/1}.input-group[_ngcontent-%COMP%]   label.form-label[_ngcontent-%COMP%]{position:absolute;top:1rem;margin-inline-start:10px;padding-inline:3px;pointer-events:none;background:#FFFBFE;color:#49454f;direction:ltr;box-sizing:border-box;width:auto;z-index:1;white-space:no-wrap;transition:transform .15s cubic-bezier(.4,0,.2,1),opacity .15s cubic-bezier(.4,0,.2,1);max-width:calc(100% - 16px);text-overflow:ellipsis;font-size:1rem}.input-group[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]{padding:13px 15px;font-size:1rem;line-height:1.5rem;outline:none;direction:ltr;text-align:left;color:#202124;margin:1px 1px 0;border:2px solid rgb(200,200,200);border-radius:1.25rem;background:#FFFBFE;flex-grow:1;flex-shrink:1;max-height:51px;caret-color:#c88d65}.input-group[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{transform:scale(.75) translateY(-39px);margin:0 0 0 1.3em;padding:.4em;background:#FFFBFE;color:#ba703c}.input-group[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]:focus{border:2px #C88D65 solid}.default-button[_ngcontent-%COMP%]{border-radius:6.25rem;padding-inline:.25rem;padding-block:.6rem;font-size:.875rem;font-weight:500;transition:background .19s linear,box-shadow .17s cubic-bezier(.65,.05,.36,1)}.default-button[_ngcontent-%COMP%]:hover{box-shadow:0 1px 3px 1px #00000026,0 1px 2px #0000004d}.form-error[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%], .form-error[_ngcontent-%COMP%]   input.form-input[_ngcontent-%COMP%]:focus{border:2px solid #D93025;caret-color:#d93025}.form-error[_ngcontent-%COMP%]   label.form-label[_ngcontent-%COMP%], .form-error[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:is(input:focus, input[_ngcontent-%COMP%]:valid) ~ label[_ngcontent-%COMP%]{color:#ca3126}@media only screen and (min-width: 705px){.forgot-container[_ngcontent-%COMP%]{width:470px;height:360px;border-radius:1.875rem;box-shadow:0 1px 3px #0000004d,0 4px 8px 3px #00000026}.forgot-container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{align-items:center;align-content:center;flex-grow:1}.forgot-container[_ngcontent-%COMP%]   h2.title[_ngcontent-%COMP%]{align-items:center;align-content:center}}"],changeDetection:0});let l=r;return l})();export{Z as ForgotPasswordComponent};
